pipeline {
    agent any

    stages {
        stage('Example') {
            steps {
                script {
                     pipeline {
                 

                    // Use the 'node' block to allocate a workspace
                    node {
                        checkout scm

                                     agent {
                                docker { image 'liquibase/liquibase:4.4.2' }
                              }
                              stages {
                                stage('Test') {
                                  steps {
                                    sh 'liquibase --version'
                                  }
                                }
                              }
                            }
                        docker.image('liquibase/liquibase').run {
                            // Your steps inside the Docker container
                            sh 'echo "Hello from Docker"'
                        }
                    }
                }
            }
        }
    }
}
